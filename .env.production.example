# ========================================
# XINGU - Production Environment Template
# ========================================
# Copy this file to .env.production and fill in actual values
# NEVER commit .env.production to git (already in .gitignore)

# ========================================
# DATABASE (PostgreSQL)
# ========================================
# Production PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
DATABASE_URL=postgresql://xingu_prod:CHANGE_THIS_PASSWORD@db.production.com:5432/xingu_production?schema=public

# ========================================
# REDIS
# ========================================
# Production Redis instance
REDIS_HOST=redis.production.com
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_PASSWORD

# ========================================
# JWT AUTHENTICATION
# ========================================
# Generate a strong secret: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_TO_STRONG_SECRET_KEY
JWT_EXPIRES_IN=15m

# ========================================
# CORS CONFIGURATION
# ========================================
# Your production frontend URL (no trailing slash)
CORS_ORIGIN=https://xingu.example.com

# ========================================
# SENTRY ERROR TRACKING
# ========================================
# Create projects at: https://sentry.io/organizations/YOUR_ORG/projects/

# Backend Services - Use same DSN or separate projects
SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# Frontend - Must use NEXT_PUBLIC_ prefix (exposed to browser)
NEXT_PUBLIC_SENTRY_DSN=https://yyyyy@yyyyy.ingest.sentry.io/yyyyy

# Optional: Track releases for better error tracking
# SENTRY_RELEASE=v1.0.0

# ========================================
# SERVICE PORTS
# ========================================
# Ports for each microservice (internal Docker network)
AUTH_SERVICE_PORT=3001
TEMPLATE_SERVICE_PORT=3002
GAME_SERVICE_PORT=3003
ROOM_SERVICE_PORT=3004
WS_SERVICE_PORT=3005
RESULT_SERVICE_PORT=3006
WEB_PORT=3000

# ========================================
# NODE ENVIRONMENT
# ========================================
NODE_ENV=production

# ========================================
# NEXT.JS CONFIGURATION
# ========================================
# Next.js API endpoints (internal Docker network or public URLs)
NEXT_PUBLIC_API_AUTH_URL=https://api.xingu.example.com/api/auth
NEXT_PUBLIC_API_TEMPLATE_URL=https://api.xingu.example.com/api/templates
NEXT_PUBLIC_API_GAME_URL=https://api.xingu.example.com/api/games
NEXT_PUBLIC_API_ROOM_URL=https://api.xingu.example.com/api/rooms
NEXT_PUBLIC_API_RESULT_URL=https://api.xingu.example.com/api/results
NEXT_PUBLIC_WS_URL=wss://ws.xingu.example.com

# Git commit SHA for release tracking (auto-set in CI/CD)
# NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA=auto-populated-by-ci

# ========================================
# OPTIONAL: EMAIL SERVICE (Future)
# ========================================
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=noreply@xingu.example.com
# SMTP_PASSWORD=CHANGE_THIS_PASSWORD

# ========================================
# OPTIONAL: CLOUD STORAGE (Future)
# ========================================
# AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
# AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
# AWS_REGION=ap-northeast-2
# AWS_S3_BUCKET=xingu-production

# ========================================
# NOTES
# ========================================
# 1. Generate strong passwords: openssl rand -base64 32
# 2. Never use default/example values in production
# 3. Store secrets in secure vault (e.g., AWS Secrets Manager, HashiCorp Vault)
# 4. Update CORS_ORIGIN to match your production domain
# 5. Create separate Sentry projects for frontend/backend for better organization
# 6. Set up SSL/TLS certificates for all public endpoints
# 7. Use environment-specific Redis/Database instances
# 8. Enable Sentry only in production (already configured in code)
