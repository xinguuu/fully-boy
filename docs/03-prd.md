# 📋 Xingu - 실무 기획서 (PRD)

## 📌 Document Info

**Product Name**: Xingu - 한국형 파티 게임 플랫폼  
**Version**: 1.0 MVP  
**Last Updated**: 2025-11-18
**Status**: In Progress  
**Owner**: Development Team

---

## 1. 프로젝트 개요

### 1.1 서비스 소개

**Xingu**는 **5분 만에** 파티 게임을 만들 수 있는 한국형 게임 플랫폼입니다.

- 🎮 **게임 템플릿 제공**: OX 퀴즈, 밸런스 게임, 초성 게임 등 **즉시 사용 가능**
- ✏️ **간편한 커스터마이징**: 질문만 수정하면 OK (프레임워크는 이미 완성)
- 📱 **실시간 멀티플레이**: 웹소켓으로 모든 참가자가 동시에 플레이
- 🔥 **트렌디한 콘텐츠**: 한국 예능, SNS 밈, 유행 게임

### 1.2 핵심 가치

| 항목 | 기존 방식 (Kahoot 등) | Xingu |
|------|---------------------|-------|
| 게임 준비 시간 | 30분+ (처음부터 제작) | **5분** (템플릿 수정) |
| 콘텐츠 특성 | 교육/퀴즈 중심 | 한국 예능/밈 중심 |
| 참여 방식 | 항상 모바일 필요 | 선택 가능 (MC 모드) |
| 커스터마이징 | 제한적 | 자유롭게 수정 가능 |

### 1.3 타겟 사용자

**1) 진행자 (Organizer)** - 주 고객
- 연령: 20-35세
- 역할: MT 진행자, 파티 호스트, 이벤트 기획자
- 페인 포인트: 시간 부족, 트렌디한 콘텐츠 필요

**2) 참가자 (Participant)**
- 연령: 20-40세
- 역할: 게임 참여자
- 니즈: 빠른 입장, 간편한 UI, 재미있는 콘텐츠

### 1.4 참여 모드 (중요!)

Xingu는 게임에 따라 **2가지 참여 모드**를 지원합니다:

#### 📱 **모바일 필요 모드** (Mobile Required)

**특징:**
- 모든 참가자가 **스마트폰 필수**
- PIN 입력 → 각자 폰에서 답변 제출
- **자동 채점, 자동 점수 부여**
- 실시간 리더보드

**적합한 게임:**
- OX 퀴즈 (O/X 버튼)
- 4지선다 퀴즈
- 밸런스 게임 (A vs B 선택)

**진행 플로우:**
```
참가자 폰 입장 → 질문 출제 → 각자 답변 제출 → 자동 채점 → 다음 질문
```

#### 🎤 **MC 모드** (Phone-Free Mode)

**특징:**
- 참가자는 **폰 불필요** (프로젝터 화면만 봄)
- 진행자가 **수동으로 점수 부여**
- 소리 지르기, 손들기, 몸으로 표현하기 등
- 더 자유롭고 즉흥적인 분위기

**적합한 게임:**
- 초성 게임 (소리 지르기)
- 스피드 퀴즈 (손들고 답하기)
- 몸으로 말해요

**진행 플로우:**
```
참가자 명단 입력 (선택) → 질문 출제 → 참가자 소리 지름 
→ 진행자 판단 → [김철수 +100점] 버튼 → 다음 질문
```

**참가자 등록 (MC 모드):**
- ✅ **사전 등록**: 대기실에서 참가자 이름 미리 입력
- ✅ **게임 중 추가**: 게임 진행하면서 새 참가자 즉석 추가 가능
- ✅ **하이브리드**: 사전 10명 등록 + 게임 중 5명 추가 = 총 15명

---

### 1.5 MVP 범위

**Phase 1 (Week 1-2)**: 
- ✅ OX 퀴즈 게임 1종 **(모바일 필요 모드)**
- ✅ 인증 시스템
- ✅ 템플릿 편집
- ✅ 실시간 게임 플레이 (WebSocket)
- ✅ 결과 화면

**Phase 2 (Week 3-4)**:
- ✅ 초성 게임 1종 **(MC 모드)**
- ✅ MC 모드 참가자 관리
- ✅ 빠른 점수 입력 UI
- ✅ 밸런스 게임, 4지선다 퀴즈

**제외 (v2)**:
- ❌ 소셜 로그인
- ❌ 유료 기능
- ❌ 모바일 앱

---

## 2. SWOT 분석

```
┌─────────────────────────────────────┬─────────────────────────────────────┐
│  강점 (Strengths)                   │  약점 (Weaknesses)                  │
├─────────────────────────────────────┼─────────────────────────────────────┤
│ • 5분 빠른 게임 제작                │ • 신규 서비스 (인지도 없음)        │
│ • 한국 트렌드 특화 콘텐츠           │ • 초기 템플릿 수 부족              │
│ • 실시간 멀티플레이 경험            │ • 콘텐츠 지속 업데이트 필요        │
│ • 유연한 참여 모드 (폰 유무)        │ • 네트워크 효과 필요               │
│ • 마이크로서비스 아키텍처 (확장성)  │ • 개발 리소스 제한                 │
└─────────────────────────────────────┴─────────────────────────────────────┘
┌─────────────────────────────────────┬─────────────────────────────────────┐
│  기회 (Opportunities)               │  위협 (Threats)                     │
├─────────────────────────────────────┼─────────────────────────────────────┤
│ • MT/워크샵 시장 성장               │ • Kahoot, Mentimeter 같은 글로벌   │
│ • 언택트 파티 문화 확산             │   플레이어 존재                    │
│ • 한국 예능 콘텐츠 인기             │ • 유사 서비스 등장 가능            │
│ • 기업 교육/이벤트 시장 진입 가능   │ • 트렌드 변화 속도 빠름            │
│ • 커뮤니티 기반 콘텐츠 확장         │ • 웹소켓 안정성 이슈               │
└─────────────────────────────────────┴─────────────────────────────────────┘
```

### 2.1 전략 도출

**SO 전략 (강점 × 기회)**
- 한국형 트렌드 콘텐츠로 MT/워크샵 시장 공략
- 빠른 제작 시간으로 기업 이벤트 시장 진입

**ST 전략 (강점 × 위협)**
- 한국 특화 콘텐츠로 글로벌 플레이어와 차별화
- 실시간 멀티플레이 경험으로 기술적 차별점 확보

**WO 전략 (약점 × 기회)**
- 커뮤니티 기반으로 콘텐츠 부족 해결 (유저 생성 템플릿)
- 초기 타겟을 좁게 설정 (대학생 MT) → 점진적 확대

**WT 전략 (약점 × 위협)**
- MVP 빠르게 출시 후 피드백 기반 개선
- 웹소켓 fallback 전략 (long-polling) 준비

---

## 3. IA (Information Architecture)

### 3.1 사이트맵

```
🏠 홈
 ├─ 🔐 로그인/회원가입
 ├─ 📚 게임 둘러보기 (Browse Templates)
 │   ├─ [필터] 모바일 필요/불필요, 카테고리, 인원
 │   ├─ [정렬] 인기순, 최신순, 이름순
 │   └─ [상세보기] 템플릿 미리보기 → 방 만들기
 ├─ 📝 내 게임 (My Games)
 │   ├─ [필터] 즐겨찾기만 보기
 │   ├─ [정렬] 최근 플레이, 수정일, 이름
 │   └─ [액션] 편집, 삭제, 방 만들기
 ├─ ✏️ 게임 편집 (Edit Game)
 │   ├─ 제목, 설명 수정
 │   ├─ 질문 추가/수정/삭제/순서 변경
 │   ├─ 미디어 업로드 (이미지, 동영상, 오디오)
 │   └─ 설정 (시간 제한, 점수, 효과음)
 ├─ 🎮 방 만들기/대기실 (Room)
 │   ├─ [진행자] PIN 표시, QR 코드, 참가자 목록
 │   ├─ [참가자] PIN 입력 → 닉네임 설정 → 대기실 입장
 │   └─ [게임 시작] 버튼 (1명 이상 참가 시 활성화)
 ├─ 🏁 게임 진행 (Play)
 │   ├─ [진행자] 질문 출제, 실시간 응답 현황, 정답 공개
 │   ├─ [참가자] 질문 보기, 답변 제출, 대기
 │   └─ [리더보드] 실시간 순위 TOP 5
 └─ 🏆 결과 화면 (Results)
     ├─ 최종 순위 (1등 🥇, 2등 🥈, 3등 🥉)
     ├─ 게임 통계 (참가자 수, 평균 점수, 소요 시간)
     └─ [액션] 결과 공유, 다시 하기, 내 게임으로
```

### 3.2 화면 구조

```
┌─────────────────────────────────────────────────┐
│  [로고]  게임 둘러보기  내 게임  [유저 메뉴] ▼  │  ← 헤더
├─────────────────────────────────────────────────┤
│                                                 │
│  📌 [PIN 입력 창]  → 바로 참가하기               │  ← 홈
│                                                 │
│  🔥 인기 게임                                   │
│  [OX 퀴즈] [밸런스 게임] [초성 게임] ...        │
│                                                 │
├─────────────────────────────────────────────────┤
│  필터: [🔘 모두] [⚪️ 폰 필요] [⚪️ 폰 불필요]     │  ← 게임 둘러보기
│  정렬: [⭐ 인기순 ▼]                             │
│                                                 │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐           │
│  │ OX 퀴즈  │ │ 밸런스   │ │ 초성    │           │
│  │ 게임     │ │ 게임     │ │ 게임    │           │
│  │ ⭐ 342   │ │ ⭐ 201   │ │ ⭐ 98   │           │
│  │ [방만들기]│ │ [방만들기]│ │ [방만들기]│       │
│  └─────────┘ └─────────┘ └─────────┘           │
│                                                 │
├─────────────────────────────────────────────────┤
│  내 게임                        [+ 새 게임 만들기]│  ← 내 게임
│                                                 │
│  ┌────────────────────────────────────┐        │
│  │ 회사 MT OX 퀴즈          [방만들기]│        │
│  │ 10문제 · 최근 플레이: 2일 전         │        │
│  │ [편집] [삭제]                       │        │
│  └────────────────────────────────────┘        │
│                                                 │
└─────────────────────────────────────────────────┘
```

---

## 4. 유저 스토리보드 (User Storyboard)

### 4.1 시나리오 A: 진행자 - 게임 만들고 진행하기

```
📍 시작점: 회사 MT 준비 중, 아이스브레이킹 게임 필요

┌──────────────────────────────────────────────────────┐
│ 1️⃣ 홈페이지 접속 → "게임 둘러보기" 클릭              │
│    [화면] 헤더 + 인기 게임 카드                      │
├──────────────────────────────────────────────────────┤
│ 2️⃣ OX 퀴즈 템플릿 선택 → [방 만들기] 버튼 클릭       │
│    [화면] 게임 카드 목록 (필터/정렬)                 │
├──────────────────────────────────────────────────────┤
│ 3️⃣ "잠깐! 먼저 로그인해주세요" → 회원가입/로그인     │
│    [화면] 로그인 모달                                │
├──────────────────────────────────────────────────────┤
│ 4️⃣ 게임 편집 화면 진입                              │
│    [화면] 좌측 질문 리스트, 우측 편집 영역           │
│    - 기본 질문 10개 확인                            │
│    - 회사 관련 질문 2개 추가 (예: "우리 회사는...")  │
│    - 질문 순서 드래그로 변경                        │
│    - 시간 제한 30초 → 20초로 변경                   │
├──────────────────────────────────────────────────────┤
│ 5️⃣ [저장 & 방 만들기] 버튼 클릭                     │
│    → "내 게임"에 저장됨                              │
│    → PIN 생성: 123456                               │
├──────────────────────────────────────────────────────┤
│ 6️⃣ PIN 표시 화면                                    │
│    [화면] 큰 PIN 숫자 + QR 코드 + [복사] 버튼       │
│    - 프로젝터에 화면 띄우기                         │
│    - "xingu.com에서 123456 입력하세요" 안내         │
│    - 참가자 0명 → 1명 → 5명 → 30명 (실시간 증가)    │
├──────────────────────────────────────────────────────┤
│ 7️⃣ [게임 시작] 버튼 활성화 (30명 참가) → 클릭       │
│    [화면] "게임을 시작합니다!" 애니메이션             │
├──────────────────────────────────────────────────────┤
│ 8️⃣ 게임 진행 화면 (진행자 뷰)                       │
│    [화면] Q 1/12: "우리 회사는 2020년에 창립했다."   │
│    - 실시간 응답 현황: ✅ 28/30 응답 완료            │
│    - 대기 중: Jane, Bob                             │
│    - [정답 공개] 버튼                               │
├──────────────────────────────────────────────────────┤
│ 9️⃣ [정답 공개] 클릭                                 │
│    [화면] ✅ 정답: O                                 │
│    - 응답 분포: O 85% (25명), X 15% (5명)           │
│    - TOP 5 리더보드 표시                            │
│    - [다음 질문] 버튼                               │
├──────────────────────────────────────────────────────┤
│ 🔟 12문제 반복 후 → 최종 결과 화면                  │
│    [화면] 🏆 최종 순위                               │
│    - 1등 🥇 John (950점)                            │
│    - 2등 🥈 Jane (920점)                            │
│    - 3등 🥉 Bob (880점)                             │
│    - 통계: 참가자 30명, 평균 점수 650점              │
│    - [결과 공유] [다시 하기] [내 게임으로] 버튼     │
└──────────────────────────────────────────────────────┘

✨ 결과: 5분 준비 + 10분 게임 = 15분 완료!
```

### 4.2 시나리오 B: 참가자 - 게임 참여하기

```
📍 시작점: MT 현장, 진행자가 PIN 안내

┌──────────────────────────────────────────────────────┐
│ 1️⃣ 스마트폰으로 xingu.com 접속                      │
│    [화면] 큰 PIN 입력창                             │
├──────────────────────────────────────────────────────┤
│ 2️⃣ PIN 입력: 123456 → [입장] 버튼                   │
│    [화면] PIN 입력 → 로딩                           │
├──────────────────────────────────────────────────────┤
│ 3️⃣ 닉네임 설정 화면                                 │
│    [화면] "닉네임을 입력하세요" (1-20자)             │
│    - 입력: "Jane"                                   │
│    - [입장하기] 버튼                                │
├──────────────────────────────────────────────────────┤
│ 4️⃣ 대기실 진입                                      │
│    [화면] "대기 중..."                               │
│    - 참가자 목록: John ✅, Bob ✅, Jane ✅ (나)      │
│    - "게임이 곧 시작됩니다"                         │
├──────────────────────────────────────────────────────┤
│ 5️⃣ 게임 시작 알림                                   │
│    [화면] "🎮 게임 시작!" 애니메이션                 │
├──────────────────────────────────────────────────────┤
│ 6️⃣ 게임 화면 (참가자 뷰)                            │
│    [화면] Q 1/12: "우리 회사는 2020년에 창립했다."   │
│    - 큰 버튼 2개: [⭕ O] [❌ X]                      │
│    - 타이머: ⏱ 20초                                │
├──────────────────────────────────────────────────────┤
│ 7️⃣ [O] 버튼 클릭                                    │
│    [화면] "답변 제출 완료! 다른 참가자를 기다리는 중..."│
│    - 버튼 비활성화                                  │
├──────────────────────────────────────────────────────┤
│ 8️⃣ 정답 공개                                        │
│    [화면] ✅ 정답: O (내가 선택한 답)                │
│    - "정답입니다! +100점"                           │
│    - 내 점수: 100점                                 │
│    - 순위: 12등                                     │
├──────────────────────────────────────────────────────┤
│ 9️⃣ 12문제 반복 후 → 최종 결과 화면                  │
│    [화면] 🏆 최종 순위                               │
│    - 내 순위: 2등 🥈 (920점)                        │
│    - 전체 순위 확인 가능                            │
└──────────────────────────────────────────────────────┘

✨ 결과: 1분 입장 + 10분 게임 = 재미있었다! 🎉
```

### 4.3 시나리오 C: 게스트 체험

```
📍 시작점: 회원가입 망설이는 신규 방문자

┌──────────────────────────────────────────────────────┐
│ 1️⃣ 홈페이지 접속 → "체험하기" 버튼 클릭              │
│    [화면] 헤더에 [체험하기] 버튼                     │
├──────────────────────────────────────────────────────┤
│ 2️⃣ 샘플 게임 바로 진입 (로그인 없이)                 │
│    [화면] 미리 만들어진 샘플 OX 퀴즈                 │
├──────────────────────────────────────────────────────┤
│ 3️⃣ 3문제 풀어보기 (미리보기 모드)                    │
│    [화면] 게임 화면 (참가자 뷰)                      │
├──────────────────────────────────────────────────────┤
│ 4️⃣ 3문제 후 → "회원가입하고 나만의 게임 만들기!"     │
│    [화면] 회원가입 유도 모달                         │
│    - [회원가입하기] [나중에] 버튼                   │
└──────────────────────────────────────────────────────┘

✨ 목표: 전환율 20% (체험 → 회원가입)
```

### 4.4 시나리오 D: MC 모드 - 초성 게임 진행 (폰 없이!)

```
📍 시작점: 회사 워크샵, 간단한 아이스브레이킹 필요

┌──────────────────────────────────────────────────────┐
│ 1️⃣ 로그인 → "게임 둘러보기" → 초성 게임 선택         │
│    [화면] 템플릿 카드에 🎤 "폰 불필요" 뱃지 표시      │
├──────────────────────────────────────────────────────┤
│ 2️⃣ 초성 게임 편집                                   │
│    [화면] 질문 편집 화면                            │
│    - 기본 질문 10개 확인 (예: "ㅊㅅㄱㅇ", "ㅅㅍㅋㅈ") │
│    - 회사 관련 초성 3개 추가                        │
│    - 시간 제한 설정 (문제당 30초)                   │
├──────────────────────────────────────────────────────┤
│ 3️⃣ [저장 & 방 만들기] 클릭                          │
│    → PIN 생성 (하지만 참가자는 PIN 불필요!)         │
├──────────────────────────────────────────────────────┤
│ 4️⃣ 참가자 명단 입력 (MC 모드)                       │
│    [화면] "참가자 관리" 화면                        │
│    - [+ 참가자 추가] 버튼                           │
│    - 입력: "김철수", "이영희", "박민수", ...        │
│    - 10명 사전 등록 완료                            │
│    - [게임 시작] 버튼                              │
│                                                    │
│    💡 참고: 사전 등록 없이 바로 시작도 가능!        │
│             게임 중에 추가할 수 있음                │
├──────────────────────────────────────────────────────┤
│ 5️⃣ [게임 시작] 클릭                                 │
│    [화면] 프로젝터에만 화면 표시                    │
│    - 참가자들은 폰 없이 프로젝터만 봄               │
├──────────────────────────────────────────────────────┤
│ 6️⃣ 게임 진행 화면 (진행자 뷰)                       │
│    [화면] Q 1/13: "ㅊㅅㄱㅇ" (대형 글씨)             │
│                                                    │
│    참가자 화면 (프로젝터):                          │
│    ┌────────────────────────────────────┐         │
│    │      Q 1/13                        │         │
│    │                                    │         │
│    │        ㅊ  ㅅ  ㄱ  ㅇ               │         │
│    │                                    │         │
│    │    (큰 글씨로 화면 가득 채움)       │         │
│    └────────────────────────────────────┘         │
│                                                    │
│    진행자 화면 (태블릿/노트북):                     │
│    ┌────────────────────────────────────┐         │
│    │ Q 1/13: ㅊㅅㄱㅇ            ⏱ 30초  │         │
│    │ 정답: 초성게임                     │         │
│    │                                    │         │
│    │ 🎯 빠른 점수 입력:                  │         │
│    │ ┌──────────────────────────────┐  │         │
│    │ │ [김철수 +100점] 버튼          │  │         │
│    │ │ [이영희 +100점] 버튼          │  │         │
│    │ │ [박민수 +100점] 버튼          │  │         │
│    │ │ ... (전체 참가자 목록)         │  │         │
│    │ │                              │  │         │
│    │ │ [+ 새 참가자 추가]            │  │         │
│    │ └──────────────────────────────┘  │         │
│    │                                    │         │
│    │ TOP 5 순위:                        │         │
│    │ 1. -                               │         │
│    │ 2. -                               │         │
│    └────────────────────────────────────┘         │
├──────────────────────────────────────────────────────┤
│ 7️⃣ 참가자들 반응                                    │
│    - 김철수: "초성게임!" (큰 소리로 외침)            │
│    - 이영희: "최신가요!" (틀림)                      │
│    - 박민수: "초성게임!" (늦게 외침)                 │
├──────────────────────────────────────────────────────┤
│ 8️⃣ 진행자 판단 후 점수 부여                         │
│    [화면] 진행자가 [김철수 +100점] 버튼 탭          │
│    → 즉시 점수 업데이트                            │
│    → 프로젝터 화면에 "김철수 +100점!" 표시         │
│    → 리더보드 업데이트 (김철수 1등)                │
├──────────────────────────────────────────────────────┤
│ 9️⃣ 게임 중 새 참가자 추가                           │
│    [상황] 관객석에 있던 "최수진"이 참여 의사 표시    │
│    [화면] 진행자가 [+ 새 참가자 추가] 클릭          │
│    - 이름 입력: "최수진"                            │
│    - [추가] 클릭                                   │
│    → 참가자 목록에 "최수진" 추가됨                  │
│    → 이후 문제부터 최수진도 참여 가능               │
├──────────────────────────────────────────────────────┤
│ 🔟 [다음 질문] 버튼 → 13문제 반복                   │
│    - 매 문제마다 빠른 점수 입력                     │
│    - 한 문제에 여러 명 점수 부여 가능               │
│    - 리더보드 실시간 업데이트                       │
├──────────────────────────────────────────────────────┤
│ 1️⃣1️⃣ 최종 결과 화면                                  │
│    [화면] 🏆 최종 순위                               │
│    - 1등 🥇 김철수 (800점) - 8문제 정답             │
│    - 2등 🥈 이영희 (500점) - 5문제 정답             │
│    - 3등 🥉 최수진 (300점) - 3문제 정답 (중간 참여) │
│    - ...                                           │
│    - 통계: 참가자 11명 (사전 10명 + 추가 1명)       │
│    - [결과 공유] [다시 하기] [내 게임으로]         │
└──────────────────────────────────────────────────────┘

✨ 결과: 폰 없이도 재미있게! 더 자유롭고 시끌벅적한 분위기 🎉
```

**MC 모드 핵심 특징:**
- ✅ 참가자는 폰 불필요 (프로젝터만 봄)
- ✅ 진행자가 빠르게 점수 부여 ([이름 +100점] 버튼)
- ✅ 사전 등록 + 게임 중 추가 가능 (하이브리드)
- ✅ 한 문제에 여러 명 점수 부여 가능
- ✅ 더 즉흥적이고 자유로운 분위기

---

## 5. 플로우차트 (Flowcharts)

### 5.1 전체 서비스 플로우

```
                    [사용자 접속]
                         ↓
            ┌────────────┴────────────┐
            ↓                         ↓
    [진행자 (게임 만들기)]      [참가자 (게임 참여)]
            ↓                         ↓
    로그인 필요?                  로그인 불필요
            ↓                         ↓
       [Yes] → 로그인/회원가입         PIN 입력
       [No]  → 게스트 체험            ↓
            ↓                    닉네임 설정
       게임 선택                       ↓
            ↓                    대기실 입장
       템플릿 편집                     ↓
            ↓                    ┌─────┴─────┐
       방 만들기                  ↓           ↓
            ↓               게임 진행    게임 종료
       PIN 표시                   ↓           ↓
            ↓               실시간 답변   결과 확인
       참가자 대기                 ↓
            ↓               점수 획득
       게임 시작                   ↓
            ↓               다음 질문
       ┌────┴────┐                ↓
       ↓         ↓            최종 결과
   질문 출제  정답 공개             ↓
       ↓         ↓             [종료]
   응답 확인  순위 공개
       ↓         ↓
    다음 질문  or  게임 종료
       ↓              ↓
    [반복]        최종 결과
                      ↓
                  통계 확인
                      ↓
                   [종료]
```

### 5.2 방 생성 플로우 (진행자)

```
[게임 선택]
    ↓
게임 템플릿 존재?
    ↓
[Yes] → 즐겨찾기? → [Yes] → 내 게임에서 선택
         ↓                         ↓
        [No]                    [편집]
         ↓                         ↓
    새 게임 만들기          질문 수정/추가/삭제
         ↓                         ↓
    [커스터마이징 화면]        이미지 업로드
         ↓                         ↓
    • 제목/설명 수정           설정 변경
    • 질문 추가/수정           (시간, 점수, 효과)
    • 드래그로 순서 변경             ↓
    • 시간/점수 설정           [저장 & 방 만들기]
         ↓                         ↓
    [저장 & 방 만들기]        6자리 PIN 생성
         ↓                         ↓
    DB 저장 (내 게임)          QR 코드 생성
         ↓                         ↓
    Room 생성 (PostgreSQL)     Redis에 방 상태 저장
         ↓                         ↓
    PIN 생성 (123456)         [PIN 표시 화면]
         ↓                         ↓
    QR 코드 생성              대기실 (Waiting Room)
         ↓                         ↓
    [PIN 표시 화면]           참가자 입장 대기
         ↓                    (실시간 WebSocket)
    • PIN 큰 글씨 표시               ↓
    • QR 코드 표시             1명 이상 입장?
    • [복사] 버튼                    ↓
    • 참가자 목록 (0명)         [Yes] → [게임 시작] 버튼 활성화
    • [전체 화면] 버튼               ↓
    • [게임 시작] 버튼 비활성화       클릭
         ↓                         ↓
    참가자 입장 대기          [게임 진행 화면]
    (실시간 참가자 수 증가)
         ↓
    1명 이상?
         ↓
    [Yes] → [게임 시작] 버튼 활성화
         ↓
    클릭 → [게임 진행]
```

### 5.3 게임 진행 플로우 (OX 퀴즈)

```
[게임 시작]
    ↓
currentQuestionIndex = 0
    ↓
┌──────────────────────────────┐
│  [질문 출제]                  │
│  (WebSocket broadcast)       │
│  - questionIndex             │
│  - content                   │
│  - imageUrl                  │
│  - timeLimit                 │
└──────────┬───────────────────┘
           ↓
    ┌──────┴──────┐
    ↓             ↓
[진행자 화면]  [참가자 화면]
    ↓             ↓
질문 + 응답 현황  질문 + [O][X] 버튼
    ↓             ↓
대기 중...      답변 선택 (O or X)
    ↓             ↓
[참가자 답변]     [submit-answer]
(실시간 카운트)   (WebSocket emit)
15/30 응답         ↓
    ↓          답변 제출 완료
20/30 응답         ↓
    ↓          버튼 비활성화
28/30 응답         ↓
    ↓          "대기 중..." 표시
    ↓             ↓
[정답 공개]        ↓
(진행자 클릭)      ↓
    ↓             ↓
[end-question]     ↓
(WebSocket broadcast)
    ↓             ↓
    ├─────────────┤
    ↓             ↓
정답 표시       정답 표시
    ↓             ↓
응답 통계       내 답변 결과
O: 85% (25명)   ✅ 정답! +100점
X: 15% (5명)        ↓
    ↓          내 점수: 200점
TOP 5 순위      순위: 12등
    ↓             ↓
[다음 질문]        ↓
(진행자 클릭)      ↓
    ↓             ↓
currentQuestionIndex++
    ↓
마지막 질문?
    ↓
[No] → 다음 질문 출제 (반복)
    ↓
[Yes] → [게임 종료]
    ↓
[최종 결과 화면]
(WebSocket broadcast)
    ↓
    ├─────────────┐
    ↓             ↓
진행자 화면    참가자 화면
    ↓             ↓
전체 순위       내 순위 강조
통계 (참가자수,  전체 순위 확인
     평균점수,
     소요시간)
    ↓             ↓
[결과 공유]    [게임 끝]
[다시 하기]
[내 게임으로]
    ↓
[종료]
```

### 5.4 게임 진행 플로우 (MC 모드 - 초성 게임)

```
[게임 시작] (MC 모드)
    ↓
참가자 명단 있음?
    ↓
┌───┴────┐
↓        ↓
[Yes]   [No]
사전 등록  빈 명단으로 시작
10명      (게임 중 추가)
    ↓        ↓
    └────┬───┘
         ↓
[게임 시작 클릭]
    ↓
currentQuestionIndex = 0
    ↓
┌──────────────────────────────┐
│  [질문 출제]                  │
│  (WebSocket broadcast)       │
│  - questionIndex             │
│  - content (초성)            │
│  - correctAnswer (정답)      │
│  - timeLimit                 │
└──────────┬───────────────────┘
           ↓
    ┌──────┴──────┐
    ↓             ↓
[진행자 화면]   [참가자 화면]
(태블릿/노트북)  (프로젝터 only)
    ↓             ↓
┌─────────────┐  ┌─────────────┐
│ Q 1/10      │  │  Q 1/10     │
│ ㅊㅅㄱㅇ     │  │             │
│ 정답: 초성게임│  │  ㅊ ㅅ ㄱ ㅇ │
│             │  │             │
│ 빠른 점수:   │  │ (큰 글씨)   │
│ [김철수+100]│  │             │
│ [이영희+100]│  └─────────────┘
│ [박민수+100]│       ↓
│ ...         │  참가자들 소리 지름
│             │  "초성게임!"
│ [+새참가자] │  "최신가요!"
└─────────────┘       ↓
    ↓             진행자 판단
    ↓                 ↓
[진행자 점수 부여]     ↓
    ↓                 ↓
[김철수 +100점] 버튼 클릭
    ↓
Redis 업데이트
participants[김철수].score += 100
    ↓
WebSocket broadcast
    ↓
┌───────┴───────┐
↓               ↓
진행자 화면     프로젝터 화면
리더보드 업데이트  "김철수 +100점!" 애니메이션
    ↓               ↓
TOP 5 순위      TOP 5 순위
1. 김철수 100    1. 김철수 100
2. -            2. -
3. -            3. -
    ↓
┌───────────────────────────┐
│ 선택 A: 다음 질문          │
│ 선택 B: 새 참가자 추가     │
└───┬───────────────┬───────┘
    ↓               ↓
[다음 질문]     [+ 새 참가자]
(진행자 클릭)    (진행자 클릭)
    ↓               ↓
currentQuestionIndex++  이름 입력: "최수진"
    ↓               ↓
마지막 질문?      participants.push({
    ↓              name: "최수진",
[No] → 다시 질문 출제      score: 0
    ↓            })
[Yes] → [게임 종료]          ↓
    ↓            리스트 업데이트
    ↓            ↓
    ↓            "최수진" 버튼 추가됨
    ↓            ↓
    ↓            [계속 게임 진행]
    ↓
[최종 결과 화면]
(WebSocket broadcast)
    ↓
    ├─────────────┐
    ↓             ↓
진행자 화면     프로젝터 화면
    ↓             ↓
전체 순위       전체 순위
통계:           대형 화면 표시
- 참가자 11명
  (사전 10명 + 추가 1명)
- 평균 점수
- 소요 시간
    ↓
[결과 공유]
[다시 하기]
[내 게임으로]
    ↓
[종료]
```

**MC 모드 핵심 차이점:**
- ❌ 참가자는 WebSocket 연결 없음 (프로젝터 화면만)
- ✅ 진행자만 WebSocket 연결 (태블릿/노트북)
- ✅ 진행자가 수동으로 점수 부여
- ✅ 게임 중 참가자 추가/삭제 가능
- ✅ 한 문제에 여러 명 점수 부여 가능

---

### 5.5 실시간 동기화 플로우 (WebSocket)

```
[진행자 액션]
(예: 게임 시작)
    ↓
socket.emit('start-game', { roomId })
    ↓
[WS Service 수신]
    ↓
Redis에서 room 상태 로드
    ↓
상태 검증
(참가자 ≥ 1명?)
    ↓
[Yes]
    ↓
room.status = 'PLAYING'
currentQuestionIndex = 0
    ↓
Redis 업데이트
    ↓
Redis Pub/Sub → 'room:123456' 채널
    ↓
┌────────────┴────────────┐
↓                         ↓
[진행자 클라이언트]   [모든 참가자 클라이언트들]
socket.on('game-started')  socket.on('game-started')
    ↓                         ↓
게임 화면 전환            게임 화면 전환
첫 질문 표시              첫 질문 표시
    ↓                         ↓
[UI 업데이트]             [UI 업데이트]
```

**Horizontal Scaling 지원:**
```
WS Service 1 ─┐
              ├─→ Redis Pub/Sub ─→ WS Service 2
WS Service 3 ─┘                    ↓
                            참가자 클라이언트들
```

---

## 6. 기능 명세 (Features)

### 6.1 우선순위 매트릭스 (MoSCoW)

| 우선순위 | 기능 | 설명 | Phase |
|---------|------|------|-------|
| **Must** (필수) |
| M-001 | 회원가입/로그인 | 이메일 + 비밀번호 인증 | 1 |
| M-002 | 토큰 관리 | JWT Access/Refresh Token | 1 |
| M-003 | 게임 템플릿 조회 | 공개 템플릿 목록 (OX 퀴즈 3종) | 1 |
| M-004 | 템플릿 즐겨찾기 | 별표 클릭 → 내 게임에 복사 | 1 |
| M-005 | 게임 편집 | 질문 추가/수정/삭제, 순서 변경 | 1 |
| M-006 | 방 생성 | 6자리 PIN + QR 코드 생성 | 1 |
| M-007 | 참가자 입장 | PIN 입력 → 닉네임 → 대기실 | 1 |
| M-008 | 대기실 | 실시간 참가자 목록 (WebSocket) | 1 |
| M-009 | 게임 진행 (OX) | 질문 출제, 답변 제출, 정답 공개 | 1 |
| M-010 | 리더보드 | 실시간 순위 TOP 5 | 1 |
| M-011 | 결과 화면 | 최종 순위, 통계 | 1 |
| M-012 | 내 게임 관리 | 조회, 편집, 삭제 | 1 |
| M-013 | 반응형 디자인 | 모바일/태블릿/데스크톱 | 1 |
| **Should** (해야 함) |
| S-001 | 밸런스 게임 | 두 선택지 중 하나 선택 | 2 |
| S-002 | 초성 게임 | 초성 보고 단어 맞추기 | 2 |
| S-003 | 4지선다 퀴즈 | 4개 보기 중 정답 선택 | 2 |
| S-004 | 고급 필터 | 카테고리, 인원, 시간 상세 필터 | 2 |
| S-005 | 게임 기록 | 과거 게임 결과 조회 | 2 |
| S-006 | QR 스캔 | 카메라로 QR 코드 스캔 입장 | 2 |
| S-007 | 효과음/애니메이션 | 답변 제출, 정답 공개 시 효과 | 2 |
| **Could** (하면 좋음) |
| C-001 | 소셜 로그인 | 구글, 카카오 로그인 | 3 |
| C-002 | 커뮤니티 템플릿 | 유저가 만든 템플릿 공유 | 3 |
| C-003 | 평점/리뷰 | 템플릿에 별점, 리뷰 작성 | 3 |
| C-004 | 유료 플랜 | Pro 기능 (커스텀 브랜딩 등) | 3 |
| C-005 | 결과 PDF 다운로드 | 게임 결과 PDF 생성 | 3 |
| **Won't** (하지 않음) |
| W-001 | 모바일 앱 | 웹만 지원 (PWA로 대체 가능) | - |
| W-002 | 음성 채팅 | 복잡도 높음, v2 고려 | - |
| W-003 | AI 질문 생성 | 고비용, v2 고려 | - |

### 6.2 기능별 상세 명세 (MVP)

#### F-001: 사용자 인증

**User Story:**
```
AS AN 진행자
I WANT TO 회원가입하고 로그인하고
SO THAT 내 게임을 저장하고 관리할 수 있다
```

**Acceptance Criteria:**
- [ ] 이메일 형식 검증 (example@domain.com)
- [ ] 비밀번호 강도 검증 (최소 8자, 대문자 1개, 숫자 1개, 특수문자 1개)
- [ ] bcrypt 해싱 (10 salt rounds)
- [ ] JWT Access Token 발급 (15분 만료)
- [ ] Refresh Token 발급 (7일 만료, Redis 저장)
- [ ] 중복 이메일 체크 (409 Conflict)
- [ ] 로그인 실패 시 401 Unauthorized

**API Endpoint:**
- POST `/auth/signup`
- POST `/auth/login`
- POST `/auth/refresh`
- POST `/auth/logout`
- GET `/auth/me`

**Priority:** Must (M-001, M-002)

---

#### F-002: 게임 템플릿 조회

**User Story:**
```
AS AN 진행자
I WANT TO 공개 게임 템플릿을 둘러보고
SO THAT 마음에 드는 게임을 선택할 수 있다
```

**Acceptance Criteria:**
- [ ] 공개 템플릿 목록 표시 (OX 퀴즈 3종)
- [ ] 각 카드에 표시:
  - 제목, 설명, 썸네일
  - 모바일 필요 여부 (badge)
  - 예상 시간, 인원
  - 즐겨찾기 수 (⭐ 342)
  - [방 만들기] [미리보기] 버튼
- [ ] 필터: 모바일 필요/불필요
- [ ] 정렬: 인기순, 최신순, 이름순
- [ ] 페이지네이션 (20개씩)

**API Endpoint:**
- GET `/api/templates?gameType=OX_QUIZ&category=ENTERTAINMENT&sortBy=playCount&order=desc&limit=20&offset=0`

**Query Parameters:**
- `gameType`: OX_QUIZ, MULTIPLE_CHOICE, TRUE_FALSE, etc.
- `category`: EDUCATION, ENTERTAINMENT, SPORTS, etc.
- `sortBy`: playCount, favoriteCount, createdAt
- `order`: asc, desc
- `limit`: 1-100
- `offset`: 0+

**Priority:** Must (M-003)

---

#### F-003: 게임 편집

**User Story:**
```
AS AN 진행자
I WANT TO 게임 내용을 수정하고
SO THAT 우리 행사에 맞게 커스터마이징할 수 있다
```

**Acceptance Criteria:**
- [ ] 제목, 설명 수정 가능
- [ ] 질문 추가/수정/삭제
  - **질문 유형 3가지 지원**:
    1. **객관식 (multiple-choice)**: 2~10개 선택지, A/B/C/D 표시
    2. **O/X 퀴즈 (true-false)**: O/X 버튼 선택
    3. **주관식 (short-answer)**: 텍스트 입력 (대소문자 무시, 공백 제거)
  - 각 질문마다 정답 설정 필수
  - 주관식은 여러 정답 허용 가능 (예: ["서울", "Seoul"])
- [ ] 드래그 앤 드롭으로 질문 순서 변경
- [ ] 이미지 업로드 (jpg, png, gif, 최대 5MB)
- [ ] 유튜브 동영상 URL 입력
- [ ] 오디오 업로드 (mp3, 최대 10MB)
- [ ] 설정 변경:
  - 시간 제한 (5-60초 or 무제한)
  - 정답당 점수 (기본 100점)
  - 시간 보너스 활성화/비활성화
  - 효과음 활성화/비활성화
- [ ] [저장 & 방 만들기] 버튼
- [ ] [취소] 버튼 (변경사항 버림)

**API Endpoint:**
- POST `/api/games` (새 게임 생성)
- PUT `/api/games/:id` (기존 게임 수정)
- DELETE `/api/games/:id` (게임 삭제)
- POST `/api/rooms` (방 생성 - Room Service)

**Priority:** Must (M-005)

---

#### F-004: 실시간 게임 플레이 (OX 퀴즈)

**User Story:**
```
AS A 참가자
I WANT TO 실시간으로 OX 질문에 답하고
SO THAT 다른 참가자들과 경쟁할 수 있다
```

**Acceptance Criteria:**
- [ ] 진행자 화면:
  - 질문 번호 (Q 1/10)
  - 질문 텍스트
  - O/X 선택지 (이미지 포함)
  - 실시간 응답 현황 (15/30 응답)
  - 타이머 (카운트다운)
  - [정답 공개] 버튼
- [ ] 참가자 화면:
  - 질문 텍스트
  - 큰 [O] [X] 버튼 (터치 친화적)
  - 타이머 (카운트다운)
  - 답변 후 "대기 중..." 표시
- [ ] 답변 제출 → 버튼 비활성화
- [ ] 정답 공개 → 정답 강조 (✅/❌)
- [ ] 응답 통계 표시 (O: 85%, X: 15%)
- [ ] TOP 5 리더보드 실시간 업데이트
- [ ] 점수 변화 애니메이션 (+100)
- [ ] [다음 질문] 버튼 (진행자만)

**WebSocket Events:**
- `start-game` (진행자 → 서버) - 게임 시작
- `game-started` (서버 → 모두) - 게임 시작됨
- `question-started` (서버 → 모두) - 질문 시작됨
- `submit-answer` (참가자 → 서버) - 답변 제출
- `answer-received` (서버 → 제출자) - 답변 결과 (점수, 정답여부)
- `answer-submitted` (서버 → 모두) - 답변 제출 알림
- `end-question` (진행자 → 서버) - 질문 종료 (정답 공개)
- `question-ended` (서버 → 모두) - 질문 종료됨 (결과, 리더보드)
- `next-question` (진행자 → 서버) - 다음 질문
- `end-game` (진행자 → 서버) - 게임 종료
- `game-ended` (서버 → 모두) - 게임 종료됨 (최종 리더보드)

**Priority:** Must (M-009, M-010)

---

#### F-005: MC 모드 참가자 관리 & 점수 부여

**User Story:**
```
AS AN 진행자
I WANT TO MC 모드에서 참가자를 관리하고 수동으로 점수를 부여하고
SO THAT 폰 없이도 재미있는 게임을 진행할 수 있다
```

**Acceptance Criteria:**

**참가자 관리:**
- [ ] 방 생성 후 "참가자 관리" 화면 진입
- [ ] [+ 참가자 추가] 버튼으로 이름 입력 (1-20자)
- [ ] 참가자 목록 표시 (번호, 이름, [삭제] 버튼)
- [ ] [나중에 추가] 버튼 (사전 등록 없이 게임 시작)
- [ ] [게임 시작] 버튼 (0명 이상일 때 활성화)

**게임 진행 (진행자 화면):**
- [ ] 좌측: 질문 & 정답 표시 (진행자만 봄)
- [ ] 우측: 빠른 점수 입력 영역
  - 참가자별 [이름 +100점] 버튼
  - 현재 점수 표시 (예: "김철수 (100점)")
  - [+ 새 참가자 추가] 버튼
- [ ] 하단: TOP 5 리더보드
- [ ] [다음 질문] [게임 종료] 버튼

**게임 진행 (프로젝터 화면):**
- [ ] 질문만 큰 글씨로 표시 (정답 안 보임)
- [ ] 하단에 TOP 5 순위 표시
- [ ] 점수 부여 시 애니메이션:
  - "김철수 +100점!" 큰 글씨 (2초)
  - 리더보드 업데이트 (순위 변동 표시)

**게임 중 참가자 추가:**
- [ ] 게임 진행 중 [+ 새 참가자 추가] 클릭
- [ ] 이름 입력 모달 표시
- [ ] [추가] 클릭 → 참가자 목록에 추가
- [ ] 점수 입력 버튼 목록에 새 버튼 추가
- [ ] 실시간 반영 (프로젝터 화면에도)

**점수 부여:**
- [ ] [이름 +100점] 버튼 클릭 (1회 탭)
- [ ] Redis 업데이트 (참가자 점수 +100)
- [ ] WebSocket broadcast → 프로젝터 화면
- [ ] 프로젝터에 "이름 +100점!" 애니메이션
- [ ] 리더보드 실시간 업데이트
- [ ] 한 문제에 여러 명 점수 부여 가능

**WebSocket Events:**
- `add-participant` (C→S): 참가자 추가
- `participant-added` (S→Host): 참가자 추가됨
- `remove-participant` (C→S): 참가자 제거
- `participant-removed` (S→Host): 참가자 제거됨
- `award-points` (C→S): 점수 부여
- `points-awarded` (S→All): 점수 부여됨 (프로젝터 화면 업데이트)

**API Endpoint:**
- POST `/api/rooms/:id/participants` (참가자 추가)
- DELETE `/api/rooms/:id/participants/:participantId` (참가자 제거)
- POST `/api/rooms/:id/award-points` (점수 부여 - WebSocket 대안)

**Priority:** Should (Phase 2) (S-001 초성 게임과 함께)

---

## 7. 화면 설계 (Wireframes)

### 7.1 주요 화면 목록

| 화면 ID | 화면 이름 | 사용자 | 설명 |
|---------|----------|--------|------|
| SCR-001 | 홈 화면 | 공통 | PIN 입력 + 인기 게임 |
| SCR-002 | 회원가입 | 진행자 | 이메일 + 비밀번호 |
| SCR-003 | 로그인 | 진행자 | 이메일 + 비밀번호 |
| SCR-004 | 게임 둘러보기 | 진행자 | 템플릿 목록 (필터/정렬) |
| SCR-005 | 템플릿 미리보기 | 진행자 | 모달 (상세 정보) |
| SCR-006 | 내 게임 | 진행자 | 내가 만든/저장한 게임 |
| SCR-007 | 게임 편집 | 진행자 | 질문 편집, 설정 변경 |
| SCR-008 | PIN 표시 | 진행자 | PIN + QR + 대기실 |
| SCR-009 | 참가자 입장 | 참가자 | PIN 입력 → 닉네임 |
| SCR-010 | 대기실 (진행자) | 진행자 | 참가자 목록, [시작] 버튼 |
| SCR-011 | 대기실 (참가자) | 참가자 | "대기 중..." |
| SCR-012 | 게임 화면 (진행자) | 진행자 | 질문 + 응답 현황 |
| SCR-013 | 게임 화면 (참가자) | 참가자 | 질문 + [O][X] 버튼 |
| SCR-014 | 정답 공개 | 공통 | 정답 + 통계 + 순위 |
| SCR-015 | 결과 화면 | 공통 | 최종 순위 + 통계 |
| **MC 모드 화면** |
| SCR-016 | 참가자 관리 (MC 모드) | 진행자 | 사전 참가자 등록 |
| SCR-017 | 게임 화면 (MC 모드 - 진행자) | 진행자 | 질문 + 빠른 점수 입력 |
| SCR-018 | 게임 화면 (MC 모드 - 프로젝터) | 공통 | 큰 화면으로 질문만 표시 |

### 7.2 와이어프레임 (주요 화면)

#### SCR-001: 홈 화면

```
┌─────────────────────────────────────────────────────┐
│  [로고 Xingu]   게임 둘러보기   내 게임   [로그인] │
├─────────────────────────────────────────────────────┤
│                                                     │
│          🎮 한국형 파티 게임 플랫폼                  │
│          5분 만에 게임 만들고 바로 시작!             │
│                                                     │
│  ┌────────────────────────────────────────┐        │
│  │  PIN 코드 입력                          │        │
│  │  [______] [______] [______]             │        │
│  │           [입장하기 →]                  │        │
│  └────────────────────────────────────────┘        │
│                                                     │
│  🔥 인기 게임 템플릿                                │
│                                                     │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐           │
│  │ [이미지]  │ │ [이미지]  │ │ [이미지]  │          │
│  │ OX 퀴즈   │ │ 밸런스    │ │ 초성      │          │
│  │          │ │ 게임      │ │ 게임      │          │
│  │ 📱 폰 필요 │ │ 🖐 폰 불필요│ │ 📱 폰 필요 │        │
│  │ ⭐ 342    │ │ ⭐ 201    │ │ ⭐ 98     │          │
│  │ [둘러보기] │ │ [둘러보기] │ │ [둘러보기] │        │
│  └──────────┘ └──────────┘ └──────────┘           │
│                                                     │
│  [모든 게임 보기 →]                                 │
│                                                     │
└─────────────────────────────────────────────────────┘
```

#### SCR-007: 게임 편집 화면

```
┌─────────────────────────────────────────────────────┐
│  [← 뒤로]  게임 편집: OX 퀴즈                        │
├──────────────────┬──────────────────────────────────┤
│ 질문 목록 (10)    │  질문 1 편집                      │
│                  │  ┌──────────────────────────────┐│
│ ☰ 1. 질문 1 ✏️   │  │ 질문 내용                     ││
│ ☰ 2. 질문 2      │  │ [________________________]   ││
│ ☰ 3. 질문 3      │  │                              ││
│ ☰ 4. 질문 4      │  │ 정답: ⚪️ O   ⚫ X              ││
│ ☰ 5. 질문 5      │  └──────────────────────────────┘│
│ ☰ 6. 질문 6      │                                  │
│ ☰ 7. 질문 7      │  이미지 (선택)                    │
│ ☰ 8. 질문 8      │  ┌──────────────────────────────┐│
│ ☰ 9. 질문 9      │  │ [이미지 업로드] 📷             ││
│ ☰ 10. 질문 10    │  └──────────────────────────────┘│
│                  │                                  │
│ [+ 질문 추가]     │  설명 (선택)                      │
│                  │  ┌──────────────────────────────┐│
│                  │  │ [________________________]   ││
│                  │  └──────────────────────────────┘│
├──────────────────┴──────────────────────────────────┤
│  게임 설정                                           │
│  시간 제한: [20초 ▼]  점수: [100점]                  │
│  시간 보너스: [✓]  효과음: [✓]                       │
│                                                     │
│  [취소]                    [저장 & 방 만들기 →]      │
└─────────────────────────────────────────────────────┘
```

#### SCR-008: PIN 표시 화면 (대기실)

```
┌─────────────────────────────────────────────────────┐
│  OX 퀴즈 - 회사 MT                      [전체화면] │
├─────────────────────────────────────────────────────┤
│                                                     │
│          xingu.com 접속 후 PIN 입력                 │
│                                                     │
│          ┌─────────────────────┐                   │
│          │                     │                   │
│          │     1  2  3  4  5  6│                   │
│          │                     │  (큰 글씨)        │
│          └─────────────────────┘                   │
│                                                     │
│          [📋 PIN 복사]                              │
│                                                     │
│          ┌─────────────┐                           │
│          │             │                           │
│          │  QR 코드    │                           │
│          │             │                           │
│          └─────────────┘                           │
│                                                     │
│  ─────────────────────────────────────────────────  │
│                                                     │
│  참가자 (30명)                                      │
│                                                     │
│  ✅ John       ✅ Jane       ✅ Bob                 │
│  ✅ Alice      ✅ Charlie    ✅ David               │
│  ✅ Emma       ✅ Frank      ✅ Grace               │
│  ...                                                │
│                                                     │
│              [🎮 게임 시작]                          │
│                                                     │
└─────────────────────────────────────────────────────┘
```

#### SCR-013: 게임 화면 (참가자 뷰)

```
┌─────────────────────────────────────────────────────┐
│  Q 1 / 12                               ⏱ 18초      │
├─────────────────────────────────────────────────────┤
│                                                     │
│                                                     │
│          우리 회사는 2020년에 창립했다.              │
│                                                     │
│                                                     │
│  ┌───────────────────────────────────────────────┐ │
│  │                                               │ │
│  │                  ⭕  O                        │ │
│  │                                               │ │
│  └───────────────────────────────────────────────┘ │
│                                                     │
│  ┌───────────────────────────────────────────────┐ │
│  │                                               │ │
│  │                  ❌  X                        │ │
│  │                                               │ │
│  └───────────────────────────────────────────────┘ │
│                                                     │
│                                                     │
│  내 점수: 200점     순위: 12등                       │
│                                                     │
└─────────────────────────────────────────────────────┘
```

#### SCR-015: 결과 화면

```
┌─────────────────────────────────────────────────────┐
│  🏆 최종 결과                                        │
├─────────────────────────────────────────────────────┤
│                                                     │
│  ┌───────────────────────────────────────────────┐ │
│  │  🥇 1등  John           950점                 │ │
│  └───────────────────────────────────────────────┘ │
│  ┌───────────────────────────────────────────────┐ │
│  │  🥈 2등  Jane           920점                 │ │
│  └───────────────────────────────────────────────┘ │
│  ┌───────────────────────────────────────────────┐ │
│  │  🥉 3등  Bob            880점                 │ │
│  └───────────────────────────────────────────────┘ │
│                                                     │
│  4등  Alice          850점                          │
│  5등  Charlie        820점                          │
│  ...                                                │
│                                                     │
│  ─────────────────────────────────────────────────  │
│                                                     │
│  📊 게임 통계                                       │
│  • 참가자: 30명                                     │
│  • 평균 점수: 650점                                 │
│  • 소요 시간: 10분 20초                             │
│  • 가장 어려운 문제: Q 7 (정답률 25%)                │
│  • 가장 쉬운 문제: Q 1 (정답률 95%)                  │
│                                                     │
│  [📤 결과 공유]  [🔄 다시 하기]  [← 내 게임으로]    │
│                                                     │
└─────────────────────────────────────────────────────┘
```

#### SCR-016: 참가자 관리 (MC 모드)

```
┌─────────────────────────────────────────────────────┐
│  [← 뒤로]  초성 게임 - 참가자 관리                   │
├─────────────────────────────────────────────────────┤
│                                                     │
│  📋 참가자 명단 (10명)                               │
│                                                     │
│  ┌──────────────────────────────────────────────┐  │
│  │  1. 김철수                          [❌ 삭제] │  │
│  │  2. 이영희                          [❌ 삭제] │  │
│  │  3. 박민수                          [❌ 삭제] │  │
│  │  4. 최지은                          [❌ 삭제] │  │
│  │  5. 정다은                          [❌ 삭제] │  │
│  │  6. 강호준                          [❌ 삭제] │  │
│  │  7. 윤서아                          [❌ 삭제] │  │
│  │  8. 임준혁                          [❌ 삭제] │  │
│  │  9. 송하늘                          [❌ 삭제] │  │
│  │ 10. 오민지                          [❌ 삭제] │  │
│  └──────────────────────────────────────────────┘  │
│                                                     │
│  ┌──────────────────────────────────────────────┐  │
│  │  새 참가자 이름                              │  │
│  │  [___________________________]    [+ 추가]   │  │
│  └──────────────────────────────────────────────┘  │
│                                                     │
│  💡 팁: 사전 등록 없이 바로 시작할 수도 있습니다.    │
│       게임 중에도 참가자를 추가할 수 있어요!         │
│                                                     │
│  [나중에 추가]                    [🎮 게임 시작]    │
│                                                     │
└─────────────────────────────────────────────────────┘
```

#### SCR-017: 게임 화면 (MC 모드 - 진행자 뷰)

```
┌─────────────────────────────────────────────────────┐
│  초성 게임                                Q 1 / 10   │
├────────────────────┬────────────────────────────────┤
│  질문 & 정답        │  빠른 점수 입력                │
│                    │                                │
│  ┌──────────────┐  │  🎯 정답을 맞춘 참가자 선택:    │
│  │ Q 1:  ㅊㅅㄱㅇ │  │                                │
│  │              │  │  ┌──────────────────────────┐ │
│  │ 정답: 초성게임│  │  │ [김철수 +100점]  (100점) │ │
│  │              │  │  │ [이영희 +100점]  (200점) │ │
│  │ ⏱ 30초       │  │  │ [박민수 +100점]  (0점)   │ │
│  └──────────────┘  │  │ [최지은 +100점]  (100점) │ │
│                    │  │ [정다은 +100점]  (0점)   │ │
│                    │  │ [강호준 +100점]  (300점) │ │
│                    │  │ ...                      │ │
│                    │  │                          │ │
│                    │  │ [+ 새 참가자 추가]        │ │
│                    │  └──────────────────────────┘ │
│                    │                                │
├────────────────────┴────────────────────────────────┤
│  🏆 TOP 5 순위                                      │
│                                                     │
│  1. 강호준        300점  ⭐⭐⭐                      │
│  2. 이영희        200점  ⭐⭐                        │
│  3. 김철수        100점  ⭐                         │
│  4. 최지은        100점  ⭐                         │
│  5. -                                               │
│                                                     │
│  [⏭ 다음 질문]              [🏁 게임 종료]          │
│                                                     │
└─────────────────────────────────────────────────────┘
```

**특징:**
- 진행자만 보는 화면 (태블릿/노트북)
- 정답 보임 (참가자는 안 봄)
- 빠른 점수 입력 버튼 (탭 한 번으로 점수 부여)
- 게임 중 참가자 추가 가능
- 한 문제에 여러 명 점수 부여 가능

#### SCR-018: 게임 화면 (MC 모드 - 프로젝터 뷰)

```
┌─────────────────────────────────────────────────────┐
│                                                     │
│                     Q  1 / 10                       │
│                                                     │
│                                                     │
│                                                     │
│                   ㅊ   ㅅ   ㄱ   ㅇ                  │
│                                                     │
│                   (엄청 큰 글씨)                     │
│                                                     │
│                                                     │
│                                                     │
│  ─────────────────────────────────────────────────  │
│                                                     │
│  🏆 TOP 5                            ⏱ 30초         │
│                                                     │
│  1. 강호준 ................ 300점                   │
│  2. 이영희 ................ 200점                   │
│  3. 김철수 ................ 100점                   │
│  4. 최지은 ................ 100점                   │
│  5. -                                               │
│                                                     │
└─────────────────────────────────────────────────────┘
```

**특징:**
- 프로젝터/대형 화면에 표시
- 참가자들은 이 화면만 봄 (폰 불필요)
- 정답 표시 안 됨 (진행자만 봄)
- 큰 글씨로 질문 표시
- 실시간 순위 업데이트

#### SCR-018-1: 점수 부여 애니메이션 (프로젝터)

```
┌─────────────────────────────────────────────────────┐
│                                                     │
│                     Q  1 / 10                       │
│                                                     │
│                   ㅊ   ㅅ   ㄱ   ㅇ                  │
│                                                     │
│            ┌─────────────────────┐                  │
│            │                     │                  │
│            │   김철수 +100점!    │  ← 애니메이션    │
│            │        ⭐           │                  │
│            └─────────────────────┘                  │
│                                                     │
│  ─────────────────────────────────────────────────  │
│                                                     │
│  🏆 TOP 5                            ⏱ 25초         │
│                                                     │
│  1. 강호준 ................ 300점                   │
│  2. 이영희 ................ 200점                   │
│  3. 김철수 ................ 100점  ⬆️ (순위 상승)   │
│                                                     │
└─────────────────────────────────────────────────────┘
```

**애니메이션:**
- 진행자가 [김철수 +100점] 버튼 클릭
- 프로젝터에 "김철수 +100점!" 큰 글씨 표시 (2초)
- 리더보드 업데이트 (순위 변동 표시)
- 참가자들 환호 🎉

---

## 8. 기술 명세 (간단히)

### 8.1 아키텍처 다이어그램

```
[사용자 (Browser)]
        ↓ HTTPS
   [Nginx:80] ← Reverse Proxy, Load Balancer
        ↓
┌───────┴─────────────────────────────────────────────────────┐
│                                                              │
│  [Next.js:3000]                                              │
│       ↓                                                      │
│  ┌────┴─────────────────────────────────────────────────┐   │
│  │                                                       │   │
│  │  [Auth:3001]  [Template:3002]  [Game:3003]            │   │
│  │                                                       │   │
│  │  [Room:3004]  [WS:3005]        [Result:3006]          │   │
│  │                                                       │   │
│  └───────────────────────┬───────────────────────────────┘   │
│                          │                                   │
└──────────────────────────┼───────────────────────────────────┘
                           ↓
              ┌────────────┴────────────┐
              │                         │
        [PostgreSQL:5432]         [Redis:6379]

9 Packages Total (Monorepo):
1. postgres (database)
2. redis (session/cache)
3. web (Next.js 16 frontend)
4. auth-service (NestJS) - Port 3001
5. template-service (Express) - Port 3002
6. game-service (Express) - Port 3003
7. room-service (Express) - Port 3004
8. ws-service (Socket.io) - Port 3005
9. result-service (Express) - Port 3006
```

### 8.2 기술 스택

| 레이어 | 기술 | 버전 | 용도 |
|--------|------|------|------|
| **Frontend** |
| Framework | Next.js | 15 | SSR, App Router |
| UI Library | React | 19 | 컴포넌트 |
| Styling | Tailwind CSS | 3.x | 스타일링 |
| UI Components | Shadcn UI + Radix | - | 재사용 컴포넌트 |
| State | Zustand | 4.x | 전역 상태 관리 |
| Forms | react-hook-form + Zod | - | 폼 검증 |
| Data Fetching | TanStack Query | 5.x | 서버 상태 관리 |
| WebSocket Client | Socket.io Client | 4.x | 실시간 통신 |
| **Backend** |
| Auth Service | NestJS | 10.x | 인증 서비스 |
| Game Service | Express | 4.x | 게임 서비스 |
| WS Service | Socket.io | 4.x | 웹소켓 서비스 |
| Database | PostgreSQL | 15 | 메인 DB |
| ORM | Prisma | 5.x | DB ORM |
| Cache/Session | Redis | 7.x | 세션/캐시 |
| **Infrastructure** |
| Reverse Proxy | Nginx | alpine | 프록시 |
| Container | Docker | 24.x | 컨테이너 |
| Orchestration | Docker Compose | 2.x | 개발 환경 |
| **DevOps** |
| Monorepo | Turborepo | 1.x | 빌드 최적화 |
| Package Manager | pnpm | 8.x | 의존성 관리 |
| Linting | ESLint + Prettier | - | 코드 품질 |
| Testing | Vitest + Playwright | - | 테스트 |

### 8.3 API 엔드포인트 요약

| Service | Base URL | Endpoints | 설명 |
|---------|----------|-----------|------|
| **Auth Service (3001)** | `/auth` | | |
| | | POST /signup | 회원가입 |
| | | POST /login | 로그인 |
| | | POST /refresh | 토큰 갱신 |
| | | POST /logout | 로그아웃 |
| | | GET /me | 내 정보 |
| **Template Service (3002)** | `/api/templates` | | |
| | | GET / | 템플릿 목록 (필터/정렬/페이지네이션) |
| | | GET /:id | 템플릿 상세 (질문 포함) |
| **Game Service (3003)** | `/api/games` | | |
| | | GET /my-games | 내 게임 목록 |
| | | GET /favorites | 즐겨찾기 게임 목록 |
| | | GET /favorites/ids | 즐겨찾기 ID만 조회 |
| | | GET /:id | 게임 상세 |
| | | POST / | 게임 생성 |
| | | PUT /:id | 게임 수정 |
| | | DELETE /:id | 게임 삭제 |
| | | POST /:id/favorite | 즐겨찾기 추가 |
| | | DELETE /:id/favorite | 즐겨찾기 제거 |
| **Room Service (3004)** | `/api/rooms` | | |
| | | POST / | 방 생성 |
| | | GET /:pin | 방 정보 |
| | | DELETE /:pin | 방 삭제 |
| **Result Service (3006)** | `/api/results` | | |
| | | POST / | 결과 저장 |
| | | GET /room/:roomId | 방 ID로 결과 조회 |
| | | GET /game/:gameId | 게임별 결과 목록 |
| **WS Service (3005)** | `ws://localhost:3005` | | |
| | | (connect) | WebSocket 연결 |
| | | join-room | 방 입장 |
| | | start-game | 게임 시작 |
| | | submit-answer | 답변 제출 |
| | | end-question | 질문 종료 (정답 공개) |
| | | next-question | 다음 질문 |
| | | end-game | 게임 종료 |

### 8.4 WebSocket 이벤트 목록

| 이벤트 | 방향 | 설명 | Payload |
|--------|------|------|---------|
| **Room Events** |
| `join-room` | C→S | 방 입장 | `{ pin, nickname?, participantId? }` |
| `joined-room` | S→C | 입장 성공 | `{ role, participantId?, room, game, sessionRestored? }` |
| `participant-joined` | S→All | 새 참가자 입장 | `{ player, playerCount }` |
| `participant-left` | S→All | 참가자 퇴장 | `{ playerId, playerCount }` |
| `session-restored` | S→C | 세션 복구됨 | `{ participantId, currentQuestionIndex, score, nickname }` |
| **Game Control Events (Organizer)** |
| `start-game` | C→S | 게임 시작 | `{ pin }` |
| `game-started` | S→All | 게임 시작됨 | `{ room }` |
| `next-question` | C→S | 다음 질문 | `{ pin }` |
| `question-started` | S→All | 질문 시작됨 | `{ questionIndex, question }` |
| `end-question` | C→S | 질문 종료 (정답 공개) | `{ pin, questionIndex }` |
| `question-ended` | S→All | 질문 종료됨 | `{ questionIndex, correctAnswer, results, leaderboard, statistics }` |
| `end-game` | C→S | 게임 종료 | `{ pin }` |
| `game-ended` | S→All | 게임 종료됨 | `{ leaderboard, room }` |
| **Answer Events** |
| `submit-answer` | C→S | 답변 제출 | `{ pin, questionIndex, answer, responseTimeMs }` |
| `answer-received` | S→C | 답변 확인 (제출자에게) | `{ questionIndex, answer, isCorrect, points, breakdown }` |
| `answer-submitted` | S→All | 답변 제출됨 (알림) | `{ playerId, playerNickname, questionIndex }` |
| **System Events** |
| `error` | S→C | 에러 발생 | `{ code, message }` |

**이벤트 상세 Payload:**

**join-room Response (joined-room):**
```typescript
{
  role: 'organizer' | 'participant';
  participantId?: string;   // 참가자만
  room: RoomState;          // 방 상태
  game: Game;               // 게임 정보
  sessionRestored?: boolean; // 세션 복구 시 true
}
```

**question-ended Response:**
```typescript
{
  questionIndex: number;
  correctAnswer: unknown;
  results: [{
    playerId: string;
    nickname: string;
    answer: unknown;
    isCorrect: boolean;
    points: number;
    responseTimeMs: number;
    currentScore: number;
  }];
  leaderboard: [{
    rank: number;
    playerId: string;
    nickname: string;
    score: number;
  }];
  statistics: {
    totalAnswers: number;
    correctAnswers: number;
    averageResponseTime: number;
  };
}
```

**Error Codes:**
- `ROOM_NOT_FOUND`, `ROOM_EXPIRED`, `NICKNAME_REQUIRED`
- `DUPLICATE_NICKNAME`, `NOT_ORGANIZER`, `INVALID_STATE`
- `PLAYER_NOT_FOUND`, `ALREADY_ANSWERED`, `QUESTION_NOT_FOUND`
- `NO_MORE_QUESTIONS`, `INTERNAL_ERROR`

---

## 9. 개발 일정 (Timeline)

### 9.1 Phase 1: MVP (2주)

```
Week 1: 백엔드 & 인프라
┌─────────────────────────────────────────────────────┐
│ Day 1-2: 인프라 셋업                                │
│ • Turborepo 초기화                                  │
│ • Docker Compose 구성 (7 containers)                │
│ • Nginx 설정                                        │
│ • PostgreSQL + Redis 설정                           │
│ • Prisma 스키마 설계                                │
│ • 환경변수 설정                                     │
├─────────────────────────────────────────────────────┤
│ Day 3-4: Auth Service (NestJS)                     │
│ • 회원가입/로그인 API                               │
│ • JWT + Refresh Token                              │
│ • Redis 세션 관리                                   │
│ • Unit 테스트                                       │
├─────────────────────────────────────────────────────┤
│ Day 5: Game Service - Part 1 (Express)            │
│ • 템플릿 조회 API                                   │
│ • 즐겨찾기 API                                      │
│ • DB 시드 데이터 (OX 퀴즈 3종)                      │
├─────────────────────────────────────────────────────┤
│ Day 6-7: Game Service - Part 2 + WS Service       │
│ • 내 게임 CRUD API                                  │
│ • 방 생성 API                                       │
│ • WebSocket 이벤트 구현                             │
│ • Redis Pub/Sub                                    │
│ • Unit 테스트                                       │
└─────────────────────────────────────────────────────┘

Week 2: 프론트엔드 & 통합
┌─────────────────────────────────────────────────────┐
│ Day 8-9: 프론트엔드 코어                             │
│ • Next.js 15 App Router 셋업                        │
│ • Tailwind + Shadcn UI                             │
│ • 인증 페이지 (회원가입/로그인)                     │
│ • 게임 둘러보기 페이지                              │
│ • 내 게임 페이지                                    │
│ • 게임 편집 페이지                                  │
├─────────────────────────────────────────────────────┤
│ Day 10-11: 게임 플로우                              │
│ • 방 생성 → PIN 표시                                │
│ • 대기실 (진행자/참가자)                            │
│ • 게임 화면 (진행자/참가자)                         │
│ • 결과 화면                                         │
│ • Socket.io 클라이언트 통합                         │
├─────────────────────────────────────────────────────┤
│ Day 12: 테스트 & 버그 수정                          │
│ • E2E 테스트 (Playwright)                          │
│ • 크로스 브라우저 테스트                            │
│ • 모바일 반응형 테스트                              │
│ • 크리티컬 버그 수정                                │
├─────────────────────────────────────────────────────┤
│ Day 13: 폴리싱 & 문서화                             │
│ • UI 폴리싱 (로딩, 에러, 애니메이션)                │
│ • 접근성 개선 (a11y)                                │
│ • README 작성                                       │
│ • API 문서 (OpenAPI)                               │
├─────────────────────────────────────────────────────┤
│ Day 14: 배포 & 런칭                                 │
│ • 프로덕션 환경 설정                                │
│ • 배포 (Vercel/AWS)                                │
│ • SSL 설정                                          │
│ • DB 마이그레이션                                   │
│ • 내부 테스트 (10+ 명)                              │
│ • 🚀 MVP LAUNCH                                     │
└─────────────────────────────────────────────────────┘
```

### 9.2 Phase 2-3 (추후)

**Phase 2 (Week 3-4)**: 추가 게임 & 고급 기능
- 밸런스 게임, 초성 게임, 4지선다 퀴즈
- 고급 필터, 게임 기록
- QR 스캔, 효과음/애니메이션

**Phase 3 (Week 5+)**: 유료화 & 프리미엄
- Pro 플랜 (커스텀 브랜딩, PDF 다운로드)
- 소셜 로그인 (구글, 카카오)
- 커뮤니티 템플릿 공유
- 평점/리뷰 시스템

---

## 10. 부록

### 10.1 용어 정의

| 용어 | 정의 |
|------|------|
| 진행자 (Organizer) | 게임을 만들고 관리하는 사용자 (로그인 필요) |
| 참가자 (Participant) | 게임에 참여하는 사용자 (로그인 불필요) |
| 템플릿 (Template) | 공개 게임 (읽기 전용, 복사 가능) |
| 내 게임 (My Games) | 진행자가 만든/저장한 게임 (수정 가능) |
| 방 (Room) | 게임 세션 (고유한 PIN으로 식별) |
| PIN | 6자리 숫자 코드 (참가자 입장용) |
| 세션 (Session) | 인증된 사용자의 로그인 세션 (Redis 저장) |
| 게임 타입 (Game Type) | 게임 종류 (OX 퀴즈, 밸런스 게임 등) |
| 카테고리 (Category) | 콘텐츠 분류 (아이스브레이킹, 퀴즈, 음악 등) |

### 10.2 참고 자료

- [01-overview.md](./01-overview.md) - 프로젝트 개요
- [02-ia.md](./02-ia.md) - 정보 구조
- [Prisma 문서](https://www.prisma.io/docs)
- [Next.js 15 문서](https://nextjs.org/docs)
- [Socket.io 문서](https://socket.io/docs/v4/)
- [NestJS 문서](https://docs.nestjs.com/)
- [Docker Compose 문서](https://docs.docker.com/compose/)

### 10.3 변경 이력

| 버전 | 날짜 | 작성자 | 변경사항 |
|------|------|--------|----------|
| 1.0 | 2025-11-17 | Dev Team | 실무 중심 PRD 작성 (플로우차트, IA, 스토리보드) |
| 1.1 | 2025-11-18 | Dev Team | 백엔드 코드와 API 스펙 동기화 (6개 서비스 구조, WebSocket 이벤트, API 엔드포인트 수정) |

---

## ✅ Next Steps (다음 할 일)

1. **이 PRD 리뷰 및 승인**
2. **Turborepo 초기화** (Day 1 시작)
3. **Docker Compose 구성** (7 containers)
4. **Prisma 스키마 설계**
5. **Auth Service 구현** (회원가입/로그인)
6. **매일 진행 상황 업데이트**

---

**🎯 MVP 목표: 2주 내 OX 퀴즈 게임 완성 & 런칭!**

**문의**: dev@xingu.com

**END OF DOCUMENT**

